<!DOCTYPE html>
<!-- saved from url=(0078)file:///Users/juergenriemer/Documents/GitHub/__2/deploy/docs/core/dom/-__.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>JSDoc: Hungarian Notation</title>

    <script src="./index_files/prettify.js"> </script>
    <script src="./index_files/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="./index_files/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="./index_files/jsdoc-default.css">
<style>
h1 {
	font-size : 2em;
}
#custom-menu {
	margin-left : 24px;
}
#custom-menu .signature {
	font-size : 70%;
	margin-left : -5px;
}
#custom-menu h6 {
	font-style : normal;
	margin-left : 48px;
}
.prefix td:nth-child(1) {
	font-weight : bold;
}
</style></head>

<body>

<div id="main">

	<h1 class="page-title">Hungarian Notation - Documentation</h1>

<div id="custom-menu">

	<div class="description">
	The code applies a flavour of (application) hungarian notation. In short
every variable is prefixed by lower case part that indicates the kind of thing that the variable contains _not_ the type followed by a camelcased variable name.
<br>
Why?
<br>
Example : dnUserDetails -> [dn] the thing is a DOM node representing [UserDetails] 
	</div>

<h3>primers on HN</h3>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Hungarian_notation">wikipedia</a></li>
<li><a href="https://www.joelonsoftware.com/2005/05/11/making-wrong-code-look-wrong/">article</a></li>
</ul>

<h3>List of prefixes used</h3>
<table class='prefix'>
<tr>
	<th>prefix</th><th>semantic</th><th>examples</th><th>typical value</th>
</tr>
<tr><td>s</td><td>name/string representation of sg</td><td>sList, sHeight</td><td>Shared Documents, "2 meters"</td></tr>
<tr><td>n</td><td>number representation of sg</td><td>nHeight</td><td>2</td></tr>
<tr><td>dn</td><td>DOM node</td><td>dnList, dnBox, dnUser</td><td>HTMLDivElement</td></tr>
<tr><td>o</td><td>instance/complex object</td><td>oList, oUser</td>new List()<td></td></tr>
<tr><td>us_</td><td>unsafe content</td><td>us_sComment</td><td>a &lt;script&gt;alert("user")&lt;/script&gt; comment</td></tr>
<tr><td>ms</td><td>milliseconds</td><td>msPoll</td><td>1000</td></tr>
<tr><td>ix</td><td>index</td><td>ixRow</td><td>3</td></tr>
<tr><td>kv</td><td>key/value pair</td><td>kvItemProperties</td><td><pre>
{ id : 14
, sName : "folder1"
, path : "/asdf/asd/" }
</pre></td></tr>
<tr><td>k</td><td>key of property</td><td>kProperty</td><td>id</td></tr>
<tr><td>v</td><td>value of property</td><td>vProperty</td><td>14</td></tr>
<tr><td>mp</td><td>map (static kv)</td><td>mpColors</td><td><pre>
{ red : "#ff0000"
, yellow : "ffff00"
, white : "ffffff" }
</pre></td></tr>
<tr><td>c</td><td>count</td><td>cItems</td><td>5</td></tr>
<tr><td>x</td><td>X-position</td><td>xBox</td><td>10</td></tr>
<tr><td>y</td><td>Y-position</td><td>yBox</td><td>10</td></tr>
<tr><td>dx</td><td>width</td><td>dxBox</td><td>100</td></tr>
<tr><td>dy</td><td>height</td><td>dyBox</td><td>300</td></tr>
<tr><td>rx</td><td>regular expression</td><td>rxAdmin</td><td>/^\w_\w$/<td></td></tr>
<tr><td>l</td><td>list of sg</td><td>lsNames</td><td>["John","Peter"]</td></tr>
<tr><td>path</td><td>path</td><td>pathImages</td><td>/root/img/</td></tr>
<tr><td>h</td><td>HTML</td><td>hMessage</td><td>&lt;p&gt;We cannot proceed.&lt;/p&gt;</td></tr>
<tr><td>xml</td><td>XML</td><td>xmlQuery</td><td>CAML query</td></tr>
<tr><td>mail</td><td>email</td><td>mailServiceDesk</td><td>ICTServiceDesk@osce.org</td></tr>
<tr><td>url</td><td>URL</td><td>urlOSCE</td><td>http://www.osce.org</td></tr>
<tr><td>dt</td><td>date</td><td>dtFrom</td><td>new Date()</td></tr>
<tr><td>css</td><td>CSS selector</td><td>cssFrom</td><td>#date .from</td></tr>
</table>

<h3>Examples of combinations</h3>
<table>
<tr>
	<th>prefix</th><th>semantic</th><th>examples</th>
</tr>
<tr><td>ldn</td><td>a list of DOM nodes</td><td>ldnLikeLinks = __.dn_( "a.likes" );</td></tr>
<tr><td>lkv</td><td>a list of key/value pairs</td><td><pre>
lkvResults = [
	  { id : 1, sTitle : "one" }
	, { id : 2, sTitle : "two" }
	, { id : 3, sTitle : "three" }
]
</pre></td></tr>
<tr><td>us_lsComments</td><td>list of potentially unsafe strings</td><td><pre>
us_lsComments = [];
__.dn_( ".comments", function( us_sComment ) {
	us_lsComments.push( us_sComment );
} );
// us_lsComments == [ "Hi mom", "&lt;script&gt;alert(213)&lt;/script&gt;", "Hi dad" ]</pre></td></tr>
<tr><td>srx</td><td>string represenation of a regular expression</td><td>srxInformed = "^.*?informed:" + sUser + ";.*$"</td></tr>

</table>
<hr>
<h3>Why use it?</h3>
<h4>Make wrong code look wrong</h4>

JavaScript is a losely/weakly typed interpreter langague implementing automatic type conversion; in addition JavaScript being a client side language it naturally deals with user inputs that are to be considered malicious.<br>HN helps to prevent mistakes that go unnoticed. 
<h5>type conversion</h5>
<pre>
height = "12 meters";
...lines later
margin = 2;
height += margin;
// height == "12 meters2";
--- in HN ---
sHeight = "12 meters";
nMargin = 2;
sHeight += nMargin; <-- wrong
</pre>
<h5>unexpected method calls</h5>
<pre>
species = "insect";
...lines later
for( var ix=0; ix&lt;species.length; ix++ ) {
	console.log( species[ ix ] );
}
// print i,n,s,e,c,t
--- in HN ---
sSpecies = "insect";
for( var ix=0; ix&lt;sSpecies.length; ix++ ) { // <-- wrong
	console.log( sSpecies[ ix ] );
}
</pre>
<h5>malicious user input</h5>
Any external, client side input e.g. form field values, cookies, URL parameters are to be considered malicious. We prefix them with "us_" to make it very clear that we deal with something potentially dangerous.
<br>
A "us_" prefixed variable must not be in one line with any other prefixed variable unless we sanitize it in the same line:
<pre>
us_sFirstName = document.getElementById( "firstName" ).value;
us_sLastName = document.getElementById( "lastName" ).value;
// so eiter
us_sFullName = us_sFirstName + " " + us_sLastName;
// or 
sFullName = sanitize( us_sFirstName + " " + us_sLastName );
</pre>
another example
<pre>
userDetails.comment = document.getElementById( "comment" ).value;
... line later
userReport = "&lt;ul>";
for( var detail in userdetails ) {
	userReport.push( "&lt;li>" + userDetails[ detail ] + "&lt;\li>" );
}
userReport = "&lt;/ul>";
userDetailBox.innerHTML = userReport;
--- in HN ---
kvUserDetails.us_sComment = document.getElementById( "comment" ).value; // <-- wrong
// either prefix the object with "us_"
us_kvUserDetails.us_sComment = document.getElementById( "comment" ).value;
// or sanitize user comment
kvUserDetails.sComment = sanitize( document.getElementById( "comment" ).value );
</pre>

</div>
</div>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Apr 09 2018 07:28:29 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="./index_files/linenumber.js"> </script>

</body></html>
