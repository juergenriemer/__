Object.defineProperty(Node.prototype,"__find",{value:function(a,b){var c="BODY"==this.tagName.toUpperCase()?document:this,e="querySelectorAll";if(/^.[a-zA-Z0-9_-]*$/.test(a)){var d=a.substr(0,1);"#"==d?(e="getElementById",a=a.substr(1)):"."==d?(e="getElementsByClassName",a=a.substr(1)):/[a-zA-Z]/.test(d)&&(e="getElementsByTagName")}c=c[e](a);if(c=HTMLCollection.prototype.isPrototypeOf(c)?[].slice.call(c):c)if(b&&__.dn.each(c,b),e=c.length,!isNaN(e)){if(1==e)return c[0];if(0==e)return null}return c}});
Object.defineProperty(Node.prototype,"__remove",{value:function(){this.parentNode.removeChild(this)}});Object.defineProperty(Node.prototype,"__closest",{value:function(a,b){var c=this.closest(a);b&&__.dn.each(c,b);return c}});Object.defineProperty(Node.prototype,"__append",{value:function(a,b){return __.dn.a(a,this,b,"move")}});Object.defineProperty(Node.prototype,"__prepend",{value:function(a,b){return this.firstChild?__.dn.a(a,this.firstChild,b,"_move"):__.dn.a(a,this,b,"move")}});
Object.defineProperty(Node.prototype,"__before",{value:function(a,b){return __.dn.a(a,this,b,"_move")}});Object.defineProperty(Node.prototype,"__after",{value:function(a,b){return __.dn.a(a,this,b,"move_")}});Object.defineProperty(Node.prototype,"__show",{value:function(){var a=this.hasAttribute("__.display")?this.getAttribute("__.display"):"block";this.style.display=a}});
Object.defineProperty(Node.prototype,"__hide",{value:function(){"none"!=this.style.display&&(this.setAttribute("__.display",getComputedStyle(this).display),this.style.display="none")}});Object.defineProperty(Node.prototype,"__ix",{value:function(){for(var a=0,b=this;null!=(b=b.previousElementSibling);)a++;return a}});
Object.defineProperty(Node.prototype,"__x",{value:function(a){if(a)/absolute|fixed/.test(self.getComputedStyle(this).position)||(this.style.position="absolute"),this.style.left=parseInt(a)+"px";else return this.getBoundingClientRect().left}});Object.defineProperty(Node.prototype,"__y",{value:function(a){if(a)/absolute|fixed/.test(self.getComputedStyle(this).position)||(this.style.position="absolute"),this.style.top=parseInt(a)+"px";else return this.getBoundingClientRect().top}});
Object.defineProperty(Node.prototype,"__dx",{value:function(a){if(a)this.style.width=parseInt(a)+"px";else return this.getBoundingClientRect().width}});Object.defineProperty(Node.prototype,"__dy",{value:function(a){if(a)this.style.height=parseInt(a)+"px";else return this.getBoundingClientRect().height}});
Object.defineProperty(Node.prototype,"__fadeOut",{value:function(a,b){a="number"==typeof a?a:250;b="function"==typeof b?a:b;var c=25/a;this.style.opacity=this.style.opacity||1;(function d(){0>(this.style.opacity-=c)?(this.__hide(),b&&b()):setTimeout(d,25)})()}});
Object.defineProperty(Node.prototype,"__fadeIn",{value:function(a){var b=25/("number"==typeof a?a:250);this.style.opacity=this.style.opacity||0;this.__show();(function e(){var a=Number(this.style.opacity)+b;this.style.opacity=a;1<a?(this.style.opacity=1,fn&&fn()):setTimeout(e,25)})()}});Object.defineProperty(Node.prototype,"__css",{value:function(a,b){if(!b)return self.getComputedStyle(this)[a];this.style[a]=b}});
Object.defineProperty(Node.prototype,"__scrollTo",{value:function(a,b){switch(a){case "x":this.scrollLeft=b;break;case "y":this.scrollTop=b;break;case "bottom":this.scrollTop=this.scrollHeight;break;case "top":this.scrollTop=0;break;case "left":this.scrollLeft=0;break;case "right":this.scrollLeft=this.scrollWidth}}});
Object.defineProperty(Node.prototype,"__onScroll",{value:function(a,b){b=b||300;this.__cbScroll=function(){var c=this==document?document.body:this;c.b&&clearInterval(c.b);c.b=setTimeout(function(){var b=c.scrollHeight,d=c.scrollTop,f=c.clientHeight,g=c.scrollWidth,h=c.scrollLeft,k=c.clientWidth;a({x:b,y:g,dy:k,dx:f,bTop:0==d,bBottom:b==d+f,bLeft:0==h,bRight:g==h+k})},b)};this.addEventListener("scroll",this.__cbScroll)}});
Object.defineProperty(Node.prototype,"__offScroll",{value:function(){this.removeEventListener("scroll",this.__cbScroll);this.__cbScroll=null}});"undefined"==typeof __&&(__={});
__.dn={each:function(a,b){if(a)for(var c=isNaN(a.length)?[a]:a,e=c.length,d=0;d<e;d++)b(c[d],d)},c:function(a,b){b=b.toString()||"";var c=document.createElement("div");c.appendChild(document.createTextNode(b));a.innerHTML=c.innerHTML},_move:function(a,b){a instanceof Array?__.dn.each(a,function(a){b.parentNode.insertBefore(a,b)}):b.parentNode.insertBefore(a,b)},move:function(a,b){a instanceof Array?__.dn.each(a,function(a){b.appendChild(a)}):b.appendChild(a)},move_:function(a,b){a instanceof Array?
__.dn.each(a,function(a){b.parentNode.insertBefore(a,b.nextSibling);b=a}):b.parentNode.insertBefore(a,b.nextSibling)},a:function(a,b,c,e){var d="object"==typeof b?b:document.body;b="function"==typeof b?b:c;var f=document.createElement("div");"string"==typeof a?f.innerHTML=a:a.length?__.dn.each(a,function(a){f.appendChild(a)}):f.appendChild(a);a=[].slice.call(f.children);a=a instanceof Array&&1==a.length?a[0]:a;b&&__.dn.each(a,b);__.dn[e](a,d);return a}};
this.Element&&function(a){a.matches=a.matches||a.matchesSelector||a.webkitMatchesSelector||a.msMatchesSelector||function(a){a=(this.parentNode||this.document).querySelectorAll(a);for(var b=-1;a[++b]&&a[b]!=this;);return a[b]?!0:!1}}(Element.prototype);this.Element&&function(a){a.closest=a.closest||function(a){for(var b=this;b.matches&&!b.matches(a);)b=b.parentNode;return b.matches?b:null}}(Element.prototype);
